<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Инженерные прошивки программы</title>
<style>
  :root {
    --primary:#6750A4; --primary-container:#EADDFF; --on-primary:#FFF;
    --surface:#FFFBFE; --on-surface:#1C1B1F;
    --surface-variant:#E7E0EC; --on-surface-variant:#49454F;
    --radius:16px; --shadow:0 2px 6px rgba(0,0,0,.1);
  }
  @media (prefers-color-scheme: dark){
    :root{
      --primary:#D0BCFF; --primary-container:#4F378B; --on-primary:#381E72;
      --surface:#1C1B1F; --on-surface:#E6E1E5;
      --surface-variant:#49454F; --on-surface-variant:#CAC4D0;
      --shadow:0 2px 6px rgba(0,0,0,.4);
    }
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
       background:var(--surface);color:var(--on-surface);
       transition:background .3s,color .3s}
  header{background:var(--primary);color:var(--on-primary);padding:16px;
         text-align:center;font-weight:700;box-shadow:var(--shadow)}
  nav{background:var(--surface-variant);padding:10px;display:flex;gap:10px;
      justify-content:center;flex-wrap:wrap}
  nav a{padding:10px 16px;border-radius:var(--radius);text-decoration:none;
        background:var(--primary-container);color:var(--on-surface)}
  nav a:hover{background:var(--primary);color:var(--on-primary)}
  main{max-width:1200px;margin:auto;padding:20px}
  section{margin-bottom:40px}
  h2{margin:0 0 16px}
  .grid{display:grid;gap:16px;grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
  .card{background:var(--surface-variant);border-radius:var(--radius);box-shadow:var(--shadow);
        padding:16px;display:flex;flex-direction:column;gap:8px;
        transition:transform .2s,box-shadow .2s}
  .card:hover{transform:translateY(-3px);box-shadow:0 4px 12px rgba(0,0,0,.2)}
  .meta{font-size:.9rem;color:var(--on-surface-variant)}
  .btn{display:inline-block;margin-top:auto;padding:10px 14px;border-radius:var(--radius);
       text-decoration:none;background:var(--primary);color:var(--on-primary);text-align:center}
  .btn:hover{filter:brightness(.95)}
  footer{background:var(--surface-variant);color:var(--on-surface-variant);text-align:center;padding:12px}
</style>
</head>
<body>
<header>Инженерные прошивки и программы by watermelon71212</header>


<main>
  <section id="firmwares">
    <h2>Инженерные прошивки</h2>
    <div class="grid" id="firmwares-list"></div>
  </section>

  <section id="dumps">
    <h2>Программы для ПК и телефонов</h2>
    <div class="grid" id="dumps-list"></div>
  </section>
</main>

<footer>&copy; 2025 watermelon71212. Все права защищены.</footer>

<script>
async function loadData(){
  const res = await fetch('firmwares.json');
  const data = await res.json();

  const makeCard = (item, type) => `
    <div class="card">
      <h3>${item.name}</h3>
      <p class="meta">${item.description}</p>
      ${item.size ? `<div class="meta">Размер: ${item.size}</div>` : ''}
      <a class="btn" href="detail.html?type=${encodeURIComponent(type)}&slug=${encodeURIComponent(item.slug)}">
        Открыть страницу
      </a>
    </div>
  `;

  const fwWrap = document.getElementById('firmwares-list');
  const dpWrap = document.getElementById('dumps-list');

  fwWrap.innerHTML = data.firmwares.map(x => makeCard(x,'firmwares')).join('');
  dpWrap.innerHTML = data.dumps.map(x => makeCard(x,'dumps')).join('');
}

loadData().catch(e=>console.error(e));
</script>
</body>
</html>
